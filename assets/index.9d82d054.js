import{u as G,a as L,_ as q}from"./Input.ea2666dd.js";import I from"./Icon.e6b889ac.js";import{_ as N}from"./Button.e0586e57.js";import{_ as Z}from"./Select.6e355dbd.js";import{_ as H}from"./FormGroup.27687c88.js";import{v as K,x as U,y as F,z as B,A,B as Q,C as T,o as h,c as _,a as c,n as W,D as X,E as D,q as k,G as M,d as V,t as b,g as C,j,H as ee,r as E,I as S,J as te,b as l,w as f,f as u,i as ae,h as J,F as oe,k as ne}from"./entry.af4dbb0d.js";import{u as re}from"./selectMenu.5351eefe.js";import{_ as P}from"./_plugin-vue_export-helper.c27b6911.js";import{a as se}from"./index.c6fd56bb.js";import{_ as le}from"./Slideover.5b7b4770.js";import{f as ie}from"./formatData.ce8d8843.js";import"./index.5d63bf96.js";import"./index.114af144.js";import"./nuxt-link.490ad890.js";import"./transition.3dba0860.js";import"./keyboard.2cedff81.js";const ue={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}},O=K(U.ui.strategy,U.ui.checkbox,ue),de=F({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>O.default.color,validator(e){return U.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:r}){const{ui:t,attrs:i}=re("checkbox",B(e,"ui"),O,B(e,"class")),{emitFormChange:s,color:d,name:n,inputId:y}=G(e),v=A({get(){return e.modelValue},set(p){r("update:modelValue",p)}}),a=p=>{r("change",p),s()},o=A(()=>Q(T(t.value.base,t.value.form,t.value.rounded,t.value.background,t.value.border,d.value&&t.value.ring.replaceAll("{color}",d.value),d.value&&t.value.color.replaceAll("{color}",d.value)),e.inputClass));return{ui:t,attrs:i,toggle:v,inputId:y,name:n,inputClass:o,onChange:a}}}),ce=["id","name","required","value","disabled","checked","indeterminate"],me=["for"];function fe(e,r,t,i,s,d){return h(),_("div",{class:k(e.ui.wrapper)},[c("div",{class:k(e.ui.container)},[W(c("input",D({id:e.inputId,"onUpdate:modelValue":r[0]||(r[0]=n=>e.toggle=n),name:e.name,required:e.required,value:e.value,disabled:e.disabled,checked:e.checked,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:r[1]||(r[1]=(...n)=>e.onChange&&e.onChange(...n))}),null,16,ce),[[X,e.toggle]])],2),e.label||e.$slots.label?(h(),_("div",{key:0,class:k(e.ui.inner)},[c("label",{for:e.inputId,class:k(e.ui.label)},[M(e.$slots,"label",{},()=>[V(b(e.label),1)]),e.required?(h(),_("span",{key:0,class:k(e.ui.required)},"*",2)):C("",!0)],10,me),e.help?(h(),_("p",{key:0,class:k(e.ui.help)},b(e.help),3)):C("",!0)],2)):C("",!0)],2)}const pe=P(de,[["render",fe]]);class $ extends Error{constructor(r){super(r),this.message=r,Object.setPrototypeOf(this,$.prototype)}}const ge=F({props:{schema:{type:Object,default:void 0},state:{type:Object,required:!0},validate:{type:Function,default:()=>[]},validateOn:{type:Array,default:()=>["blur","input","change","submit"]}},emits:["submit","error"],setup(e,{expose:r,emit:t}){const i=se(`form-${L()}`);j(()=>{i.on(async a=>{var o;a.type!=="submit"&&((o=e.validateOn)!=null&&o.includes(a.type))&&await y(a.path,{silent:!0})})}),ee(()=>{i.reset()});const s=E([]);S("form-errors",s),S("form-events",i);const d=E({});S("form-inputs",d);async function n(){let a=await e.validate(e.state);if(e.schema)if(ye(e.schema))a=a.concat(await ve(e.state,e.schema));else if(he(e.schema))a=a.concat(await be(e.state,e.schema));else if(xe(e.schema))a=a.concat(await ke(e.state,e.schema));else if(Ce(e.schema))a=a.concat(await Ve(e.state,e.schema));else throw new Error("Form validation failed: Unsupported form schema");return a}async function y(a,o={silent:!1}){if(a){const p=s.value.filter(g=>g.path!==a),x=(await n()).filter(g=>g.path===a);s.value=p.concat(x)}else s.value=await n();if(!o.silent&&s.value.length>0)throw new $(`Form validation failed: ${JSON.stringify(s.value,null,2)}`);return e.state}async function v(a){var p;const o=a;try{(p=e.validateOn)!=null&&p.includes("submit")&&await y();const x={...o,data:e.state};t("submit",x)}catch(x){if(!(x instanceof $))throw x;const g={...o,errors:s.value.map(w=>({...w,id:d.value[w.path]}))};t("error",g)}}return r({validate:y,errors:s,setErrors(a,o){s.value=a,o?s.value=s.value.filter(p=>p.path!==o).concat(a):s.value=a},async submit(){await v(new Event("submit"))},getErrors(a){return a?s.value.filter(o=>o.path===a):s.value},clear(a){a?s.value=s.value.filter(o=>o.path!==a):s.value=[]}}),{onSubmit:v}}});function he(e){return e.validate&&e.__isYupSchema__}function _e(e){return e.inner!==void 0}async function be(e,r){try{return await r.validate(e,{abortEarly:!1}),[]}catch(t){if(_e(t))return t.inner.map(i=>({path:i.path??"",message:i.message}));throw t}}function ye(e){return e.parse!==void 0}async function ve(e,r){const t=await r.safeParseAsync(e);return t.success===!1?t.error.issues.map(i=>({path:i.path.join("."),message:i.message})):[]}function xe(e){return e.validateAsync!==void 0&&e.id!==void 0}function we(e){return e.isJoi===!0}async function ke(e,r){try{return await r.validateAsync(e,{abortEarly:!1}),[]}catch(t){if(we(t))return t.details.map(i=>({path:i.path.join("."),message:i.message}));throw t}}function Ce(e){return e._parse!==void 0}async function Ve(e,r){const t=await r._parse(e);return t.issues?t.issues.map(i=>{var s;return{path:((s=i.path)==null?void 0:s.map(d=>d.key).join("."))||"",message:i.message}}):[]}function Ee(e,r,t,i,s,d){return h(),_("form",{onSubmit:r[0]||(r[0]=te((...n)=>e.onSubmit&&e.onSubmit(...n),["prevent"]))},[M(e.$slots,"default")],32)}const $e=P(ge,[["render",Ee]]),Se={class:""},Ue={class:"flex-1 p-4 space-y-5 overflow-x-scroll"},je={class:"text-2xl font-semibold text-gray-700"},Be={key:0,class:"text-sm text-gray-500"},Ae={key:1,class:"text-sm text-gray-500"},Oe=c("span",{class:"text-gray-500 dark:text-gray-400 text-xs"},"Minutes",-1),qe={__name:"ManageContent",props:{isEditing:Boolean,content:Object},setup(e){const{isEditing:r,content:t}=e,{$contentStore:i,$toastify:s}=J(),d=E(!1),n=E({subject:(t==null?void 0:t.subject)||"",chapter:(t==null?void 0:t.chapter)||"",instructor:(t==null?void 0:t.instructor)||"",days_to_count:(t==null?void 0:t.days_to_count)||"",recorded_class:(t==null?void 0:t.recorded_class)||"",lecture_sheet:(t==null?void 0:t.lecture_sheet)||"",practice_sheet:(t==null?void 0:t.practice_sheet)||"",exam_duration:(t==null?void 0:t.exam_duration)||"",exam_status:(t==null?void 0:t.exam_status)||!1}),y=async()=>{try{t&&r?(await i.updateContent(t._id,n.value),s("Content updated successfully")):(await i.addContent(n.value),s("Content created successfully")),d.value=!1,await i.getContents()}catch(v){s(v.response.data.message)}};return j(async()=>{d.value=!1}),(v,a)=>{const o=I,p=N,x=Z,g=H,w=q,z=pe,R=$e,Y=le;return h(),_("div",Se,[l(p,{color:"green",onClick:a[0]||(a[0]=m=>d.value=!0)},{default:f(()=>[l(o,{name:e.isEditing?"lucide:edit":"lucide:plus-circle"},null,8,["name"]),V(" "+b(e.isEditing?"Edit Content":"Add Content"),1)]),_:1}),l(Y,{modelValue:u(d),"onUpdate:modelValue":a[10]||(a[10]=m=>ae(d)?d.value=m:null)},{default:f(()=>[c("div",Ue,[c("div",null,[c("h2",je,b(e.isEditing?"Edit":"New")+" Content",1),e.isEditing?(h(),_("p",Ae,"Edit Existing Content")):(h(),_("p",Be,"Create a new Content"))]),l(R,{state:u(n),class:"space-y-5",onSubmit:y},{default:f(()=>[l(g,{label:"Subject"},{default:f(()=>[l(x,{options:["গাণিতিক যুক্তি","মানসিক দক্ষতা","International Affairs"],modelValue:u(n).subject,"onUpdate:modelValue":a[1]||(a[1]=m=>u(n).subject=m),placeholder:"Subject"},null,8,["modelValue"])]),_:1}),l(g,{label:"Chapter"},{default:f(()=>[l(w,{modelValue:u(n).chapter,"onUpdate:modelValue":a[2]||(a[2]=m=>u(n).chapter=m),placeholder:"Chapter"},null,8,["modelValue"])]),_:1}),l(g,{label:"Instructor"},{default:f(()=>[l(x,{options:["প্রণব কুমার পাল","মো: শহিদুল ইসলাম (সন্দ্বীপ)"],modelValue:u(n).instructor,"onUpdate:modelValue":a[3]||(a[3]=m=>u(n).instructor=m),placeholder:"Instructor"},null,8,["modelValue"])]),_:1}),l(g,{label:"Days to Count"},{default:f(()=>[l(w,{modelValue:u(n).days_to_count,"onUpdate:modelValue":a[4]||(a[4]=m=>u(n).days_to_count=m),placeholder:"Days to Count",type:"number"},null,8,["modelValue"])]),_:1}),l(g,{label:"Recorded Class"},{default:f(()=>[l(w,{modelValue:u(n).recorded_class,"onUpdate:modelValue":a[5]||(a[5]=m=>u(n).recorded_class=m),placeholder:"Recorded Class"},null,8,["modelValue"])]),_:1}),l(g,{label:"Lecture Sheet"},{default:f(()=>[l(w,{modelValue:u(n).lecture_sheet,"onUpdate:modelValue":a[6]||(a[6]=m=>u(n).lecture_sheet=m),placeholder:"Lecture Sheet"},null,8,["modelValue"])]),_:1}),l(g,{label:"Practice Sheet"},{default:f(()=>[l(w,{modelValue:u(n).practice_sheet,"onUpdate:modelValue":a[7]||(a[7]=m=>u(n).practice_sheet=m),placeholder:"Practice Sheet"},null,8,["modelValue"])]),_:1}),l(g,{label:"Exam Duration"},{default:f(()=>[l(w,{modelValue:u(n).exam_duration,"onUpdate:modelValue":a[8]||(a[8]=m=>u(n).exam_duration=m),placeholder:"Exam Duration",type:"number"},{trailing:f(()=>[Oe]),_:1},8,["modelValue"])]),_:1}),l(z,{modelValue:u(n).exam_status,"onUpdate:modelValue":a[9]||(a[9]=m=>u(n).exam_status=m),color:"primary",label:"Exam Published"},null,8,["modelValue"]),l(p,{color:"green",block:"",type:"submit"},{default:f(()=>[l(o,{name:e.isEditing?"lucide:check":"lucide:plus-circle"},null,8,["name"]),V(" "+b(e.isEditing?"Update Content":"Create Content"),1)]),_:1})]),_:1},8,["state"])])]),_:1},8,["modelValue"])])}}},Ie={class:"flex justify-between"},Ne={class:"my-5 font-bold"},Fe={key:0,class:"space-y-4 mt-5"},Me={class:"grid grid-cols-2"},Je={class:"text-xl font-semibold"},Pe={class:"font-semibold"},ze={key:0},Re=c("p",{class:"font-semibold"}," Exam Duration ",-1),Ye={key:0,class:"font-medium text-gray-500"},Ge={class:"mt-5 flex justify-between items-center"},Le={class:"space-x-5"},Ze=["href"],He=["href"],Ke=["href"],Qe={class:"space-x-4 flex"},mt={__name:"index",setup(e){const{$contentStore:r,$toastify:t}=J();j(async()=>{await r.getContents()});const i=async s=>{try{await r.deleteContent(s),t("Content deleted successfully"),await r.getContents()}catch(d){t(d.response.data.message)}};return(s,d)=>{const n=q,y=qe,v=N,a=I;return h(),_("div",null,[c("div",Ie,[l(n,{icon:"i-heroicons-magnifying-glass-20-solid",size:"xl",color:"white",trailing:!1,placeholder:"Search...",onKeyup:d[0]||(d[0]=o=>u(r).searchContents(o.target.value))}),l(y)]),c("p",Ne," সর্বমোট "+b(u(r).total_days)+" দিন ",1),u(r).contents?(h(),_("div",Fe,[(h(!0),_(oe,null,ne(u(r).contents,o=>(h(),_("div",{key:o._id,class:"border p-4 rounded-md"},[c("div",Me,[c("div",null,[c("p",Je,b(o.subject),1),c("p",null,b(o.chapter),1),c("p",null,b(o.instructor),1),c("p",Pe,b(("formatNumber"in s?s.formatNumber:u(ie))(o.days_to_count))+" দিন ",1)]),o.exam_duration?(h(),_("div",ze,[Re,o.exam_duration?(h(),_("p",Ye,b(o.exam_duration)+" Minutes ",1)):C("",!0),l(v,{class:"mt-3",color:"cyan",to:`/admin/contents/${o._id}`},{default:f(()=>[V("Questions")]),_:2},1032,["to"])])):C("",!0)]),c("div",Ge,[c("div",Le,[c("a",{class:"bg-red-50 h-10 w-10 group hover:bg-red-500 aspect-square p-2 border border-red-400 rounded-full inline-flex items-center justify-center",target:"_blank",href:o.recorded_class},[l(a,{name:"lucide:video",class:"text-red-500 group-hover:text-white"})],8,Ze),c("a",{class:"bg-green-50 h-10 w-10 group hover:bg-green-500 aspect-square p-2 border border-green-400 rounded-full inline-flex items-center justify-center",target:"_blank",href:o.lecture_sheet},[l(a,{name:"lucide:notebook",class:"text-green-500 group-hover:text-white",size:"20"})],8,He),c("a",{class:"bg-orange-50 h-10 w-10 group hover:bg-orange-500 aspect-square p-2 border border-orange-400 rounded-full inline-flex items-center justify-center",target:"_blank",href:o.practice_sheet},[l(a,{name:"lucide:notebook-pen",class:"text-orange-500 group-hover:text-white",size:"20"})],8,Ke)]),c("div",Qe,[l(y,{isEditing:!0,content:o},null,8,["content"]),l(v,{color:"red",onClick:p=>i(o._id)},{default:f(()=>[V("Delete")]),_:2},1032,["onClick"])])])]))),128))])):C("",!0)])}}};export{mt as default};

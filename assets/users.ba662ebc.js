import{b as W,_ as M}from"./Button.e0586e57.js";import{u as X}from"./selectMenu.5351eefe.js";import{v as U,x as O,y as H,z as A,A as B,o as l,c as g,G as N,l as k,E as b,g as z,F as S,k as D,r as G,L as J,j as K,f as y,a as o,b as Q,i as T,t as C,h as Y}from"./entry.af4dbb0d.js";import{_ as Z}from"./_plugin-vue_export-helper.c27b6911.js";import"./nuxt-link.490ad890.js";import"./Icon.e6b889ac.js";import"./index.114af144.js";const _={wrapper:"flex items-center -space-x-px",base:"",rounded:"first:rounded-s-md last:rounded-e-md",default:{size:"sm",activeButton:{color:"primary"},inactiveButton:{color:"white"},firstButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-double-left-20-solid"},lastButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-double-right-20-solid"},prevButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-right-20-solid"}}},h=U(O.ui.strategy,O.ui.pagination,_),x=U(O.ui.strategy,O.ui.button,W),ee=H({components:{UButton:M},inheritAttrs:!1,props:{modelValue:{type:Number,required:!0},pageCount:{type:Number,default:10},total:{type:Number,required:!0},max:{type:Number,default:7,validate(e){return e>=5&&e<Number.MAX_VALUE}},disabled:{type:Boolean,default:!1},size:{type:String,default:()=>h.default.size,validator(e){return Object.keys(x.size).includes(e)}},activeButton:{type:Object,default:()=>h.default.activeButton},inactiveButton:{type:Object,default:()=>h.default.inactiveButton},showFirst:{type:Boolean,default:!1},showLast:{type:Boolean,default:!1},firstButton:{type:Object,default:()=>h.default.firstButton},lastButton:{type:Object,default:()=>h.default.lastButton},prevButton:{type:Object,default:()=>h.default.prevButton},nextButton:{type:Object,default:()=>h.default.nextButton},divider:{type:String,default:"â€¦"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:w}){const{ui:P,attrs:c}=X("pagination",A(e,"ui"),h,A(e,"class")),s=B({get(){return e.modelValue},set(a){w("update:modelValue",a)}}),p=B(()=>Array.from({length:Math.ceil(e.total/e.pageCount)},(a,d)=>d+1)),r=B(()=>{const a=p.value.length,d=s.value,L=Math.max(e.max,5),f=Math.floor((Math.min(L,a)-5)/2),F=d-f,$=d+f,V=F-1>1,j=$+1<a,t=[];if(a<=L){for(let i=1;i<=a;i++)t.push(i);return t}if(t.push(1),V&&t.push(e.divider),!j){const i=d+f+2-a;for(let v=d-f-i;v<=d-f-1;v++)t.push(v)}for(let i=Math.max(2,F);i<=Math.min(a,$);i++)t.push(i);if(!V){const i=1-(d-f-2);for(let v=d+f+1;v<=d+f+i;v++)t.push(v)}return j&&t.push(e.divider),$<a&&t.push(a),t.length>=3&&t[1]===e.divider&&t[2]===3&&(t[1]=2),t.length>=3&&t[t.length-2]===e.divider&&t[t.length-1]===t.length&&(t[t.length-2]=t.length-1),t}),n=B(()=>s.value>1),m=B(()=>s.value<p.value.length);function u(){n.value&&(s.value=1)}function I(){m.value&&(s.value=p.value.length)}function E(a){typeof a!="string"&&(s.value=a)}function q(){n.value&&s.value--}function R(){m.value&&s.value++}return{ui:P,attrs:c,currentPage:s,pages:p,displayedPages:r,canGoLastOrNext:m,canGoFirstOrPrev:n,onClickPrev:q,onClickNext:R,onClickPage:E,onClickFirst:u,onClickLast:I}}});function te(e,w,P,c,s,p){const r=M;return l(),g("div",b({class:e.ui.wrapper},e.attrs),[N(e.$slots,"first",{onClick:e.onClickFirst},()=>[e.firstButton&&e.showFirst?(l(),k(r,b({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.firstButton||{},...e.firstButton},{ui:{rounded:""},"aria-label":"First",onClick:e.onClickFirst}),null,16,["size","disabled","class","onClick"])):z("",!0)]),N(e.$slots,"prev",{onClick:e.onClickPrev},()=>[e.prevButton?(l(),k(r,b({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.prevButton||{},...e.prevButton},{ui:{rounded:""},"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["size","disabled","class","onClick"])):z("",!0)]),(l(!0),g(S,null,D(e.displayedPages,(n,m)=>(l(),k(r,b({key:`${n}-${m}`,size:e.size,disabled:e.disabled,label:`${n}`},n===e.currentPage?{...e.ui.default.activeButton||{},...e.activeButton}:{...e.ui.default.inactiveButton||{},...e.inactiveButton},{class:[{"pointer-events-none":typeof n=="string","z-[1]":n===e.currentPage},e.ui.base,e.ui.rounded],ui:{rounded:""},onClick:()=>e.onClickPage(n)}),null,16,["size","disabled","label","class","onClick"]))),128)),N(e.$slots,"next",{onClick:e.onClickNext},()=>[e.nextButton?(l(),k(r,b({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.nextButton||{},...e.nextButton},{ui:{rounded:""},"aria-label":"Next",onClick:e.onClickNext}),null,16,["size","disabled","class","onClick"])):z("",!0)]),N(e.$slots,"last",{onClick:e.onClickLast},()=>[e.lastButton&&e.showLast?(l(),k(r,b({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.lastButton||{},...e.lastButton},{ui:{rounded:""},"aria-label":"Last",onClick:e.onClickLast}),null,16,["size","disabled","class","onClick"])):z("",!0)])],16)}const se=Z(ee,[["render",te]]),oe=o("h1",{class:"text-2xl font-semibold my-4"}," Users ",-1),ae={key:0,class:"relative overflow-x-auto shadow-md sm:rounded-lg"},ne={class:"w-full text-sm text-left text-gray-500"},ie=o("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[o("tr",null,[o("th",{scope:"col",class:"px-6 py-3"}," Name "),o("th",{scope:"col",class:"px-6 py-3"}," Phone "),o("th",{scope:"col",class:"px-6 py-3"}," Institute "),o("th",{scope:"col",class:"px-6 py-3"}," Group "),o("th",{scope:"col",class:"px-6 py-3"}," District ")])],-1),le={scope:"row",class:"px-6 py-4 font-medium whitespace-nowrap"},re={class:"px-6 py-4"},ue={class:"px-6 py-4"},de={class:"px-6 py-4"},ce={class:"px-6 py-4"},pe={class:"mt-5"},Be={__name:"users",setup(e){const{$axios:w,$userStore:P}=Y(),c=G(1),s=G([]),p=async()=>{const{data:r}=await w.get("/auth/users?limit=50&page="+c.value,{headers:{Authorization:`Bearer ${P.access_token}`}});s.value=r.users};return J(c,()=>{p()}),K(async()=>{await p()}),(r,n)=>{const m=se;return l(),g("div",null,[oe,y(s)&&y(s).docs?(l(),g("div",ae,[o("table",ne,[ie,o("tbody",null,[(l(!0),g(S,null,D(y(s).docs,u=>(l(),g("tr",{key:u._id,class:"border-b"},[o("th",le,C(u.name),1),o("td",re,C(u.phone),1),o("td",ue,C(u.university),1),o("td",de,C(u.group),1),o("td",ce,C(u.district),1)]))),128))])])])):z("",!0),o("div",pe,[Q(m,{class:"mx-auto",modelValue:y(c),"onUpdate:modelValue":n[0]||(n[0]=u=>T(c)?c.value=u:null),"page-count":y(s).limit,total:y(s).totalDocs},null,8,["modelValue","page-count","total"])])])}}};export{Be as default};

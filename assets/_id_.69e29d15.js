import S from"./Icon.e6b889ac.js";import{_ as z}from"./Button.e0586e57.js";import{_ as A}from"./Editor.30668c72.js";import{_ as D}from"./Slideover.5b7b4770.js";import{r as E,o as a,c,b as s,w as r,d as p,a as e,f as o,F as k,k as q,l as U,g as Q,t as g,i as I,h as B,m as N,n as w,q as O,s as F,j as G}from"./entry.af4dbb0d.js";import{u as H}from"./index.c6fd56bb.js";import"./index.114af144.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./selectMenu.5351eefe.js";import"./nuxt-link.490ad890.js";import"./transition.3dba0860.js";import"./keyboard.2cedff81.js";import"./index.5d63bf96.js";const J={class:"p-4 flex-1 overflow-x-scroll"},L={class:"flex justify-between items-center"},M=e("h1",{class:"text-2xl font-semibold"}," Create Question ",-1),R={class:"my-3 space-y-3"},T=e("p",{class:"text-lg font-semibold"}," Options ",-1),P={class:"grid gap-3 mt-3"},K=["onClick"],W={class:"flex-1"},X={class:"text-right"},Y={class:"flex justify-end gap-4"},Z={__name:"CreateQuestion",props:{content:{type:String,required:!0}},setup(C){const b=C,l=E(!1),{$questionStore:v}=B(),t=H("last_question",{content:b.content,question_text:"",options:[{text:"",isCorrect:!1}],explain:"",serial:1,marks:1,negative_marks:0,status:"published"}),$=["A","B","C","D","E","F","G","H","I","J"],x=()=>{t.value.options.push({text:null,isCorrect:!1})},d=f=>{t.value.options.splice(f,1)},m=async f=>{t.value.status=f,await v.createQuestion(t.value),l.value=!1};return(f,n)=>{const _=S,h=z,y=A,j=D;return a(),c("div",null,[s(h,{onClick:n[0]||(n[0]=i=>l.value=!0),size:"md"},{default:r(()=>[s(_,{name:"lucide:plus-circle",class:"mr-2"}),p(" Add Question ")]),_:1}),s(j,{modelValue:o(l),"onUpdate:modelValue":n[6]||(n[6]=i=>I(l)?l.value=i:null)},{default:r(()=>[e("div",J,[e("div",L,[M,s(h,{onClick:n[1]||(n[1]=i=>l.value=!1),size:"sm"},{default:r(()=>[s(_,{name:"eva:close-fill"})]),_:1})]),e("div",R,[e("div",null,[s(y,{modelValue:o(t).question_text,"onUpdate:modelValue":n[2]||(n[2]=i=>o(t).question_text=i)},null,8,["modelValue"])]),T,e("div",P,[(a(!0),c(k,null,q(o(t).options,(i,u)=>(a(),c("div",{key:u,class:"flex w-full items-center gap-2"},[e("div",null,[e("button",{class:"relative flex items-center justify-center w-8 h-8 my-2 border border-gray-800 rounded-full",onClick:V=>o(t).options[u].isCorrect=!o(t).options[u].isCorrect},[o(t).options[u].isCorrect?(a(),U(_,{key:0,name:"lucide:check",size:"30",class:"absolute text-green-500"})):Q("",!0),p(" "+g($[u]),1)],8,K),s(h,{class:"",square:"",size:"md",color:"red",onClick:V=>d(u)},{default:r(()=>[s(_,{name:"lucide:trash"})]),_:2},1032,["onClick"])]),e("div",W,[s(y,{modelValue:o(t).options[u].text,"onUpdate:modelValue":V=>o(t).options[u].text=V},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]),e("div",X,[s(h,{onClick:x,size:"sm"},{default:r(()=>[s(_,{name:"lucide:plus",class:"mr-2"}),p(" Add Option ")]),_:1})]),e("div",null,[s(y,{label:"Explanation",placeholder:"Explanation",modelValue:o(t).explain,"onUpdate:modelValue":n[3]||(n[3]=i=>o(t).explain=i)},null,8,["modelValue"])])]),e("div",Y,[s(h,{onClick:n[4]||(n[4]=i=>m("draft")),size:"md",color:"orange"},{default:r(()=>[s(_,{name:"lucide:save",class:"mr-2"}),p(" Save As Draft ")]),_:1}),s(h,{onClick:n[5]||(n[5]=i=>m("published")),size:"md"},{default:r(()=>[s(_,{name:"lucide:save",class:"mr-2"}),p(" Save & Publish ")]),_:1})])])]),_:1},8,["modelValue"])])}}},ee={class:"space-y-5"},te={class:"border p-4 rounded-lg bg-white"},se={class:"flex items-center gap-3"},oe={class:"space-x-3 text-right"},ne={__name:"AdminQuestion",setup(C){const b=["A","B","C","D","E","F","G","H","I","J"];return(l,v)=>{const t=S,$=z,x=N("katex");return a(),c("div",ee,[(a(!0),c(k,null,q(l.$questionStore.questions,d=>(a(),c("div",te,[w(e("div",null,null,512),[[x,d.question_text]]),(a(!0),c(k,null,q(d.options,(m,f)=>(a(),c("div",se,[e("button",{class:O(["relative flex items-center justify-center w-8 h-8 my-2 border border-gray-800 rounded-full",{"bg-green-500 text-white border-green-500":m.isCorrect}])},g(b[f]),3),w(e("div",null,null,512),[[x,m.text]])]))),256)),w(e("div",null,null,512),[[x,d.explain]]),e("div",oe,[s($,{size:"sm",color:"orange"},{default:r(()=>[s(t,{name:"lucide:edit",class:"mr-2"}),p(" Edit ")]),_:1}),s($,{size:"sm",color:"red"},{default:r(()=>[s(t,{name:"lucide:trash",class:"mr-2"}),p(" Delete ")]),_:1})])]))),256))])}}},le={key:0},ie={class:"border p-4 rounded-md"},ae=e("h1",{class:"text-2xl font-bold"},"Exam",-1),re=e("p",{class:"text-sm text-gray-500"},"Exam detail",-1),ce=e("hr",{class:"my-5"},null,-1),ue={class:"grid grid-cols-2"},de={class:"font-bold"},me={class:"flex justify-between items-center my-5"},_e=e("h1",{class:"text-2xl font-semibold"}," Questions ",-1),qe={__name:"[id]",setup(C){const{$contentStore:b,$questionStore:l}=B(),v=F(),t=E(null);return G(async()=>{t.value=(await b.getContentById(v.params.id)).data.content,await l.getQuestions(v.params.id)}),($,x)=>{const d=Z,m=ne;return o(t)?(a(),c("div",le,[e("div",ie,[ae,re,ce,e("div",ue,[e("div",null,[e("p",null," Subject: "+g(o(t).subject),1),e("p",null," Chapter: "+g(o(t).chapter),1),e("p",null," Topic: "+g(o(t).topic),1)]),e("div",null,[e("p",de," Exam Duration: "+g(o(t).exam_duration)+" Minutes ",1)])])]),e("div",me,[_e,s(d,{content:o(v).params.id},null,8,["content"])]),e("div",null,[s(m)])])):Q("",!0)}}};export{qe as default};
